<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1. FC Kaiserslautern - Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212; /* Dunkler Hintergrund */
            color: #e0e0e0; /* Helle Schriftfarbe */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .container {
            width: 80%;
            max-width: 1200px;
            margin-top: 20px;
        }

        .header {
            text-align: center;
            background-color: #1f1f1f; /* Dunkleres Grau */
            color: #e0e0e0;
            padding: 20px;
            border-radius: 10px;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .box {
            background-color: #1f1f1f; /* Dunkles Grau */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .box h2 {
            margin-top: 0;
            color: #e30613; /* Rote Akzentfarbe */
        }

        .matches, .upcoming {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .matches li, .upcoming li {
            background-color: #2c2c2c; /* Etwas helleres Dunkelgrau */
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
        }

        .matches span, .upcoming span {
            color: #e0e0e0; /* Helle Schriftfarbe für die Liste */
        }

        .footer {
            margin-top: 20px;
            text-align: center;
            font-size: 0.8em;
            color: #e0e0e0;
        }

        .stats {
            font-size: 3em; /* Größere Schriftgröße für die Zahl */
            font-weight: bold;
            color: #ffffff; /* Weiße Farbe */
            margin: 20px 0; /* Abstand oben und unten */
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1>1. FC Kaiserslautern - Dashboard</h1>
            <p>Übersicht über die ungeschlagene Serie und aktuelle Informationen</p>
        </div>

        <div class="dashboard">
            <!-- Box für Ungeschlagene Serie -->
            <div class="box" id="unstoppable-box">
                <h2>Ungeschlagene Spiele</h2>
                <p class="stats" id="unstoppable-count">0</p>
            </div>

            <!-- Box für nächste Spiele -->
            <div class="box" id="upcoming-box">
                <h2>Nächste Spiele</h2>
                <ul class="upcoming" id="upcoming-list">
                    <!-- Nächste Spiele werden hier dynamisch eingefügt -->
                </ul>
            </div>

            <!-- Box für Spiele -->
            <div class="box" id="matches-box">
                <h2>Vergangene Spiele</h2>
                <ul class="matches" id="matches-list">
                    <!-- Spiele werden hier dynamisch eingefügt -->
                </ul>
            </div>
        </div>

        <div class="footer">
            <p>Diese Seite verwendet eine API, um die neuesten Spiele und Ergebnisse des 1. FC Kaiserslautern anzuzeigen.</p>
        </div>
    </div>

    <script>
        // JavaScript zum Abrufen der Daten von der API und Einfügen in die Seite
        async function fetchData() {
            const apiKey = 'f4bbf5e4c38c4ba2801ce2ebbbf8e428';  // Hier den API-Schlüssel einfügen
            const teamId = '4'; // Team-ID für 1. FC Kaiserslautern
            const matchesUrl = `https://api.football-data.org/v2/teams/${teamId}/matches?status=FINISHED`;
            const upcomingUrl = `https://api.football-data.org/v2/teams/${teamId}/matches?status=SCHEDULED`;

            try {
                // Abrufen der vergangenen Spiele
                const matchesResponse = await fetch(matchesUrl, {
                    headers: { 'X-Auth-Token': apiKey }
                });
                if (!matchesResponse.ok) throw new Error(`HTTP error! Status: ${matchesResponse.status}`);
                const matchesData = await matchesResponse.json();
                
                // Abrufen der nächsten Spiele
                const upcomingResponse = await fetch(upcomingUrl, {
                    headers: { 'X-Auth-Token': apiKey }
                });
                if (!upcomingResponse.ok) throw new Error(`HTTP error! Status: ${upcomingResponse.status}`);
                const upcomingData = await upcomingResponse.json();

                // Update der ungeschlagenen Spiele
                const unstoppableCount = matchesData.matches.filter(match =>
                    (match.homeTeam.name === '1. FC Kaiserslautern' && match.score.fullTime.homeTeam > match.score.fullTime.awayTeam) ||
                    (match.awayTeam.name === '1. FC Kaiserslautern' && match.score.fullTime.awayTeam > match.score.fullTime.homeTeam)
                ).length;
                document.getElementById('unstoppable-count').innerText = unstoppableCount;

                // Update der vergangenen Spiele
                const matchesList = document.getElementById('matches-list');
                matchesData.matches.forEach(match => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <span>${match.homeTeam.name} ${match.score.fullTime.homeTeam} - ${match.score.fullTime.awayTeam} ${match.awayTeam.name}</span>
                        <span>${new Date(match.utcDate).toLocaleDateString()}</span>
                    `;
                    matchesList.appendChild(listItem);
                });

                // Update der nächsten Spiele
                const upcomingList = document.getElementById('upcoming-list');
                upcomingData.matches.forEach(match => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <span>${match.homeTeam.name} vs ${match.awayTeam.name}</span>
                        <span>${new Date(match.utcDate).toLocaleDateString()}</span>
                    `;
                    upcomingList.appendChild(listItem);
                });
            } catch (error) {
                console.error('Fehler beim Abrufen der Daten:', error);
                // Hier können Sie eine Benutzerfreundliche Fehlermeldung anzeigen
            }
        }

        // Abrufen der Daten beim Laden der Seite
        fetchData();
    </script>

</body>
</html>
